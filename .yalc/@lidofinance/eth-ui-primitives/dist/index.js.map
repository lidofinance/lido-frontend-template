{"mappings":"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","sources":["packages/eth/ui/primitives/src/index.ts","packages/eth/ui/primitives/src/components/index.ts","packages/eth/ui/primitives/src/components/formatToken/index.ts","packages/eth/ui/primitives/src/components/formatToken/formatToken.tsx","packages/eth/ui/primitives/src/utils/index.ts","packages/eth/ui/primitives/src/utils/formatEtherFloorBalance.ts","packages/eth/ui/primitives/src/components/tokenToWallet/index.ts","packages/eth/ui/primitives/src/components/tokenToWallet/tokenToWallet.tsx","packages/eth/ui/primitives/src/components/tokenToWallet/styles.tsx","packages/eth/ui/primitives/src/styledComponentsWrapper.ts","packages/eth/ui/primitives/src/components/walletFallback/index.ts","packages/eth/ui/primitives/src/components/walletFallback/walletFallback.tsx","packages/eth/ui/primitives/src/components/walletFallback/useErrorMessage.ts"],"sourcesContent":["export * from './components'\nexport * from './utils'\n","export * from './formatToken'\nexport * from './tokenToWallet'\nexport * from './walletFallback'\n","export * from './formatToken'\n","import React, { FC } from 'react'\nimport { BigNumber } from 'ethers'\nimport { LidoComponentProps } from '@lidofinance/lido-ui'\nimport { formatFloorEtherBalance } from '../../utils'\n\ntype FormatTokenType = FC<\n  LidoComponentProps<\n    'span',\n    {\n      symbol: string\n      amount?: BigNumber\n      approx?: boolean\n    }\n  >\n>\n\nexport const FormatToken: FormatTokenType = (props) => {\n  const { amount, symbol, approx = false, ...rest } = props\n  const prefix = !approx || amount?.isZero() ? '' : '≈ '\n\n  return (\n    <span {...rest}>\n      {prefix}\n      {formatFloorEtherBalance(amount)}&nbsp;{symbol}\n    </span>\n  )\n}\n","export * from './formatEtherFloorBalance'\n","import { BigNumber, utils, constants } from 'ethers'\n\nconst { formatEther } = utils\nconst { Zero } = constants\n\nexport const formatFloorEtherBalance = (balance: BigNumber = Zero, decimalDigits = 4): string => {\n  // ETH is divisible to 18 decimal places\n  const modulo = BigNumber.from(10).pow(Math.max(0, 18 - decimalDigits))\n  // wei to ether\n  const etherBalanceString = formatEther(balance.sub(balance.mod(modulo)))\n\n  // formatEther is cutting zeros in decimal digits to 2,\n  // but we want to cut to decimalDigits\n  if (etherBalanceString.includes('.')) {\n    const parts = etherBalanceString.split('.')\n\n    if (decimalDigits === 0) return parts[0]\n\n    if (decimalDigits < parts[1].length) {\n      return parts[0] + '.' + parts[1]\n    }\n\n    return parts[0] + '.' + parts[1] + '0'.repeat(decimalDigits - parts[1].length)\n  }\n\n  return etherBalanceString\n}\n","export * from './tokenToWallet'\n","import React, { FC } from 'react'\nimport { Tooltip, LidoComponentProps } from '@lidofinance/lido-ui'\nimport { useTokenToWallet } from '@lido-sdk/react'\n\nimport { TokenToWalletStyle } from './styles'\n\ntype TokenToWalletType = FC<\n  LidoComponentProps<\n    'button',\n    {\n      address: string\n    }\n  >\n>\n\nexport const TokenToWallet: TokenToWalletType = (props) => {\n  const { address, ...rest } = props\n  const { addToken } = useTokenToWallet(address)\n\n  if (!addToken) return null\n\n  return (\n    <Tooltip placement=\"bottomLeft\" title=\"Add tokens to wallet\">\n      <TokenToWalletStyle tabIndex={-1} onClick={addToken} {...rest} />\n    </Tooltip>\n  )\n}\n","import styled from '../../styledComponentsWrapper'\n\nexport const TokenToWalletStyle = styled.button`\n  border: 0;\n  padding: 0;\n  width: 15px;\n  height: 15px;\n  line-height: 0;\n  vertical-align: middle;\n  position: relative;\n  border-radius: 50%;\n  cursor: pointer;\n  margin-top: -2px;\n  margin-left: 4px;\n  // more info: https://github.com/lidofinance/ui/tree/main/packages/theme\n  background: var(--lido-color-accentDarken);\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    // more info: https://github.com/lidofinance/ui/tree/main/packages/theme\n    background: var(--lido-color-accentContrast);\n    width: 7px;\n    height: 1px;\n    top: 7px;\n    left: 4px;\n    border-radius: 0.5px;\n  }\n\n  &:after {\n    height: 7px;\n    width: 1px;\n    top: 4px;\n    left: 7px;\n  }\n`\n","// Styled Components v5 has issues with ESM modules:\n// https://github.com/styled-components/styled-components/issues/115\n// https://github.com/rollup/rollup/issues/4438\n// It can be solved by using Styled Components v6, which is in beta ATM\n// But it will be better to stop using styled-components at all.\n// This is a temporary workaround, which seems to work well.\n\nimport _styled, { StyledInterface } from 'styled-components'\n\n// @ts-expect-error Property 'default' does not exist on type 'StyledInterface'.\nconst styled: StyledInterface = _styled.default || _styled\n\nexport * from 'styled-components'\nexport default styled\n","export * from './walletFallback'\n","import React, { FC } from 'react'\nimport { BlockProps } from '@lidofinance/lido-ui'\nimport { WalletFallback as WalletFallbackCommon } from '@lidofinance/ui-primitives'\nimport { useErrorMessage } from './useErrorMessage'\n\nexport type FallbackWalletComponent = FC<BlockProps>\n\nexport const WalletFallback: FallbackWalletComponent = (props) => {\n  const error = useErrorMessage()\n\n  return <WalletFallbackCommon {...props} error={error ?? ''} />\n}\n","import { useSupportedChains, useWeb3 } from '@reef-knot/web3-react'\nimport { CHAINS } from '@lido-sdk/constants'\n\nexport const useErrorMessage = (): string | undefined => {\n  const { error } = useWeb3()\n  const { isUnsupported, supportedChains } = useSupportedChains()\n\n  if (isUnsupported) {\n    const chainNames = supportedChains.map(({ chainId, name }) => CHAINS[chainId] || name)\n    const chainNamesFormatted = new Intl.ListFormat('en', { style: 'long', type: 'disjunction' }).format(chainNames)\n\n    return `Unsupported chain. Please switch to ${chainNamesFormatted} in your wallet`\n  }\n\n  return error?.message\n}\n"],"names":[],"version":3,"file":"index.js.map"}